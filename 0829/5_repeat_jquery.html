<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>영화내용 출력페이지</title>
</head>
<body>
	<h1>영화목록<em>?</em>개</h1>
	<button id="deleteBtn">삭제</button>
	<ul>
		
	</ul>
	<script src="js/jquery.js"></script>
	<script>

		//서버에서 json이 넘어왔습니다.
		var movies = [
			{poster:"poster1.jpg",director:"류승완",name:"베테랑",grade:106,gradeNum:12},
			{poster:"poster4.jpg",director:"백감독",name:"뷰티 인사이드",grade:37,gradeNum:4},
			{poster:"poster2.jpg",director:"최동훈",name:"암살",grade:51,gradeNum:6},
			{poster:"poster5.jpg",director:"강효진",name:"미쓰와이프",grade:68,gradeNum:11},
			{poster:"poster3.jpg",director:"니마 누리자데",name:"아메리칸 울트라",grade:29,gradeNum:4},
			{poster:"poster6.jpg",director:"신동엽",name:"치외법권",grade:23,gradeNum:3}
		];

		var $em = $("em");
		$em.text(movies.length);

		$("#deleteBtn").click(function(){
			$("li:first").remove();
			$em.text($("li").size());
		});

		//배열의 갯수만큼 반복하는 each메서드
		$(movies).each(function(){
			//this가 바로 그 객체
			console.log(this);

			//json의 배열만큼 반복하면서 li, img, h2, p요소를 만들고
			//각각 적절한 데이터를 입력하고 결국 ul에 추가
			var $li = $("<li>");
			var $img = $("<img>").attr("src","poster/"+this.poster);
			var $h2 = $("<h2>").text(this.name);
			var $p = $("<p>").text(this.director);

			//요소들간의 부모/자식관계(DOM)을 설정
			$li.append($img,$h2,$p)
			   .appendTo("ul");
		});

	</script>
</body>
</html>